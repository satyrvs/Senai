<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estoque</title>
    <script>
            var opt;
            var estoque;
            function saldo() {
                estoque = parseInt(prompt("Informar saldo inicial: "));
                // var cria uma variável global
                //parseint converte string em número inteiro e ainda verifica de é um número válido
                while (isNaN(estoque)) {
                    // isNaN verifica se o valor não é um número
                    //document.write(estoque);
                    //console.log(estoque);
                    //alert(estoque);
                    estoque = parseInt(prompt("O Valor inserido é inválido. Por favor, insira um número: "));
                }
                alert("Saldo inicial: " + estoque + "\n");
                //document.write("Saldo inicial: " + estoque + "</br>");
                //console.log("Saldo inicial: " + estoque + "</br>");
            }
            saldo();

            function option() {
                opt = parseInt(prompt(`
                                        0 para Encerrar
                                        1 para Adicionar
                                        2 para Remover   
                                        Informe a opção desejada: `));
                while (isNaN(opt)) {
                    //console.log("A opção selecionada é inválida");
                    alert ("A opção selecionada é inválida");
                    //document.write("A opção selecionada é inválida");
                    opt = parseInt(prompt((`
                                        0 para Encerrar
                                        1 para Adicionar
                                        2 para Remover   
                                        Informe a opção desejada: `)));
                }
                //document.write ("Opção escolhida: " + opt);
                alert("Opção escolhida: " + opt);
            }
            //option();

            function adiciona() {
                var add = parseInt(prompt("Informe a quantidade a adicionar: "));
                while (isNaN(add)) {
                    alert("A quantidade inserida é inválida");
                    //document.write("A quantidade inserida é inválida");
                    add = parseInt(prompt("Informe a quantidade a adicionar: "));
                }
                estoque = estoque + add;
                alert  ("Saldo atualizado: " + estoque);
                //document.write("Saldo atualizado: " + estoque);
                option();
            }   

            function remove() {
                var rem = parseInt(prompt("Informe a quantidade a remover: "));
                while (isNaN(rem)) {
                    alert("A quantidade inserida é inválida");
                    //document.write("A quantidade inserida é inválida");
                    rem = parseInt(prompt("Informe a quantidade a remover: "));
                }
                estoque = estoque - rem;
                alert("Saldo atualizado: " + estoque);
                //document.write("Saldo atualizado: " + estoque);
                option();
            }

            do {
                option();
                switch (opt) {
                    case 0:
                        alert("Encerrando...");
                        //document.write("Encerrando...");
                        break;
                    case 1:
                        adiciona ();
                        break;
                    case 2:
                        remove ();
                        break;
                }
            }while (opt != 0);
            document.write("Saldo atualizado: " + estoque);
    </script>
</head>
<body>
    <h1>Controle de Estoque</h1>
</body>
</html>
